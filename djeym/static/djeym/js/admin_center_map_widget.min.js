djeymYMaps.ready(function(){"use strict";let Map,Placemark,latitude=$("#id_latitude"),longitude=$("#id_longitude"),coordinates=[latitude.val(),longitude.val()],coords;(Map=new djeymYMaps.Map("id_center_map",{center:coordinates,zoom:$("select#id_zoom option:selected").val(),controls:["default","routeButtonControl"]})).controls.get("searchControl").options.set("provider","yandex#search"),Map&&($("#id_zoom").on("change",function(){Map.setZoom($("select#id_zoom option:selected").val())}),Map.events.add("boundschange",function(e){$('select#id_zoom option[value="'+e.get("target").getZoom()+'"]').prop("selected",!0)}),(Placemark=new djeymYMaps.Placemark(Map.getCenter(),{hintContent:"",balloonContent:""},{iconLayout:"default#image",iconImageHref:"/static/djeym/img/flag.svg",iconImageSize:[60,60],iconImageOffset:[-18.7,-53],draggable:!0})).events.add("drag",function(e){coords=e.get("target").geometry.getCoordinates(),latitude.val(coords[0]),longitude.val(coords[1])}),Map.events.add("click",function(e){coords=e.get("coords"),Placemark.geometry.setCoordinates(coords),latitude.val(coords[0]),longitude.val(coords[1])}),Map.geoObjects.add(Placemark),$("#id_latitude, #id_longitude").on("keyup",function(){let latNum=1*latitude.val(),logNum=1*longitude.val();isNaN(latNum)||isNaN(logNum)?alert("The coordinate value is not a number.\nЗначение координат не является числом."):Placemark.geometry.setCoordinates([latNum,logNum])}))});